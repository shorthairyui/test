# 第一阶段报告

## 摘要

1. 设计题目
不围棋联机对战游戏（第一部分：初步实现游戏界面和简单逻辑）
2. 阶段设计内容
利用C++设计一款可以轮流落子和具有简单判断逻辑~~并且有很多bug笨重至极~~的不围棋游戏。
3. 开发工具
Qt6
4. 小组分工
房向南(此版本)

尽管是一个小组大作业，我们小组(team8)却有着两份不同的版本，此版本为小组中房向南完成。
因这些因素给助教带来检查的不便我深表歉意。

## 详细设计

1. 代码框架

![代码框架](file:///C:/Users/pc/Desktop/d3d6ed635d20ac64c51cd29ca2ae10c.png)

如图，start是开始界面，mainwindow是下棋界面，setting是设置界面。
item是棋子的类，block是棋子块的类。
计时器及逻辑判断等闲杂内容在mainwindow中实现。
本框架参考了网上一些五子棋的框架，如item的类，但是仅止于此。
2. 代码简介

![代码简介](file:///C:/Users/pc/Desktop/c13c1ac4d97f664e74fca09fea5fe44.png)

+ 逻辑判断部分

    本作业逻辑判断部分比较抽象，利用块的模式想要简化搜索算法的编写难度(~~本人大概是写不明白~~)。

    但最后的结果与预想背道而驰。在测试发现bug然后修复这样两次之后我已经对这个东西的正确率抱有极大的怀疑。
    不过肯定会花功夫想办法改进。

    基本思路：一个棋子落下，判断它是哪个块,如果边上没有块(相同颜色的棋子)，那就新建立一个块。这样的块叫小块。

    判断胜负的时候，除了判断最新下落的棋子所属的小块是否有气，还要判断本身所在的同色大块(递归实现)，

    周围的不同异色大块是否有气。

+ 游戏结果部分

    本作业采取QMessageBox中的information和question来实现结果展示。在判断胜负之后利用statistic函数和jiesuan函数

    来生成结算信息字符串(QString类型)。然后利用QMessagebox展示并保存在d盘的txt文档里(只保存最新对局)。由于不是

    所有电脑都有d盘而又没有c盘权限，这里的游戏日志保存方法值得商榷。结算展示后，会询问是否开启新的一局。若是，则新

    建一个mainwindow，若否，则新建一个start窗口，并关掉原来的mainwindow。

![结算信息](file:///C:/Users/pc/Desktop/17721d695430e2f88c9e88f81cf26c5.png)

    图片是利用认输做的示例。

+ 其他部分

  + 认输方面，我采取了和正常输赢一样的结算方法。
  + 再来一局设计的很鸡肋，类似于点击是否开启新的一局的Yes。
  + 返回就是返回start界面。想去setting界面得这样走。

3. ui设计

![开始界面](file:///C:/Users/pc/Desktop/1bb643fce21992bafd59c030d63f765.png)

![游戏界面](file:///C:/Users/pc/Desktop/e878c7b61cd4f91920d634d9ff6ed35.png)

![设置界面](file:///C:/Users/pc/Desktop/dfa481a58ba3335e3129f6c06518d37.png)

  开始界面的界面设计采取绿色为主基调，背景是知乎“十大最高级渐变颜色”这一专栏介绍的渐变色的其中一种(不仔细看哪

  有渐变)。游戏界面以简洁为主，其实可以采取贴图的方式规避QPainter画的图被背景挡住的问题，此问题待阶段二解决。

## 遇到的困难

1. 在C++没学多少的情况下写此作业十分考验临场学习水平。
2. 因为一些事耽误了完成进程导致写的有些仓促。
3. 因水平所限，ui设计和逻辑判断不尽如人意。

## 鸣谢

+ 网络的大力支持
+ 理学院侯同学的双人对战测试
+ 同小组两位同学的对我的启发和帮助
+ 助教和老师的细心讲解

## 展望

1. 测试出可能存在bug，并用更简洁的办法写出逻辑判断。
2. 添加联机功能
3. 进一步美化界面设计
4. 期中考试加油()
